<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Tue Aug  1 10:36:21 2017 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>grim.pro (OMINAS Documentation)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <style type="text/css" media="all">
            /* setup page */
      body { font-family: Helvetica, sans-serif; font-size: 12pt; margin: 0; padding: 0; }
      div.content { padding: 1em; }
      p { line-height: 1.4; }
      td p { padding-bottom: 0.5em; }
      img { border: 0; }
      
      /* link styles */
      a { text-decoration: none; }
      a:link, a:visited { color: #0000FF; }
      a:hover, a:focus { background: yellow; border-bottom: 1emx dotted #303099; }
      
      /* dir-overview styles */
      dt.filename { margin-top: 0.5em; }
      dl.file_listing { margin-left: 1em; }
      
      /* titles */
      h1, h2, h3, h4 { font-weight:normal; color: #871E31; margin-top: 1.5em; }
      h4 { margin-bottom: 0.25em; }
      .center { margin-left: auto; margin-right: auto; }
      .small { font-family: Verdana, Helvetica, sans-serif; font-size: 90%; }
      .smaller { font-family: Verdana, Helvetica, sans-serif; font-size: 80%; }
      .smallest { font-family: Verdana, Helvetica, sans-serif; font-size: 70%; }
      h1.basename { margin-top: 0; margin-bottom: 0; }
      h1.basename span.file-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      h2.directory { font-size: 90%; margin-bottom: 0; }
      h2.routine-name { margin-top: 0; margin-bottom: 0; }
      p.categories { color: #384806; margin-top: 0; }
      span.file_attribute { float: right; color: #384806; margin: 0 0 1em 3em; }
      div#file_comments { margin-top: 1em; }
      
      div.routine-details { border: 1px dotted #C0C0C0; margin-top: 1em; padding: 1em; }
      span.routine-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      div.details dt { color: #871E31; margin-left: 2em; }
      div.details dt span { color: #384806; margin-left: 2em; }
      div.details dd { margin: 0.5em 2em 1em 4em; }
      a.top {
        font-family: Verdana, Helvetica, sans-serif;
        font-size: 8pt;
        font-weight: bold;
        color: #5070ff;
        text-transform: uppercase;
        float: right;
        margin-left: 1em;
      }
      
      /* comments */
      .pre { white-space: pre; }
      
      /* code styles */
      code { font-family: Monaco, "Courier New", Courier, monospace; font-size: 95%; }
      code.listing { white-space: pre; display: block; margin: 0.75em 0 0.75em 0; padding: 0 3em 0 1em; line-height: 1.4em; }
      code.source { white-space: pre; display: block; }
      code.source span.comments { color: #408080; }
      .syntax { margin-top: 1em; margin-left: 1.5em; text-indent: -1.5em; }
      .var { font-style: italic; }
      .argument { } /* white-space: nowrap; does not work in Safari (and sometimes not even in Firefox) */
      
      dl.routine-summary dt { margin-bottom: 0.25em; }
      dl.routine-summary dd { margin-bottom: 0.5em; margin-left: 2em; }
      
      ul.inherited-method-summary { padding-left: 0em; margin-left: 0em; }
      
      /* general styles */
      ul li { list-style-type: none; }
      table { empty-cells: show; }
      thead { color: #871E31; }
      dd { margin-bottom: 0.35em; }
      input, textarea { background: #F3F6ED; border: #E1D6C6 1px solid; padding: 2px 1em 2px 0.5em; }
      input.text { background: #FFFFC0; }
      
      div.note { margin: 1em 2em 1em 2em; background: #EFEFEF; border: 1px #A0A0A0 dotted; padding: 0 1em 0 1em; }
      p.indent { margin-left: 2em; }
      
      /* An attribute table is a vertical list of name-value pairs. */
      table.box {
        background: #EFEFEF;
        border: 1px #A0A0A0 dotted;
        padding-top: 0.75em;
        padding-bottom: 0.75em;
      }
      table.attribute { padding-left: 0.75em; padding-right: 0.75em; }
      table td { vertical-align: top; }
      table.attribute p { margin: 0; }
      table td.name { font-style: normal; padding-right: 1.5em; }
      ul.fieldslist { padding-top: 0; color: #909090; }
      ul.fieldslist li { margin-bottom: 0.25em; }
      span.fieldname { color: #000000; }
      
      dl.attribute dt { color: #990000; }
      
      /* header/navbar styles */
      div.header { padding: 2em 2em 0 2em; background: #9E9D7B; border-bottom: 2px #262626 solid; }
      div.header h1 { color: white; margin:0; font-weight: normal; }
      div.header h2 { color: white; margin-top: 0; margin-bottom: 1em; font-weight: normal; font-style: italic; font-size: 100%; }
      table.navbar { background: #CCC097; margin: 0; padding: 0; border-bottom: 1px #262626 dotted; width: 100%; }
      table.navbar td { padding: 4px 0.5em 3px 0.5em; white-space: nowrap; vertical-align: top; }
      table.navbar td.flexible { width: 100%; text-align: right; padding-right: 1em; white-space: nowrap; }
      table.navbar td.selected { background: #262626; }
      table.navbar td.selected, table.navbar td.selected a { color: white; }
      table.navbar a:hover, table.navbar a:focus { background: inherit; border-bottom: 1px solid #303099; }
      p.localnavbar { text-align: right; margin: 0.2em 1em 0.2em 0.2em; padding: 0; }
      
      /* CSS graphics styles */
      div.box {
        margin-left: 0.25em;
        display: inline-block;
        width: 0.9em;
        height: 0.9em;
        vertical-align: -1px;
      }
      .red { background-color: #A00; }
      .orange { background-color: #F40; }
      .green { background-color: #480; }
      
      /* index styles */
      span.index_type { margin-left: 1em; }
      dl.index_listing dd { margin-bottom: 0.5em; margin-left: 2em; }
      dl.index_listing dd p { margin-top: 0.2em; margin-bottom: 0em; }
      
      /* search styles */
      fieldset { border: #ddd 1px solid; padding: 1em; margin-top: 3em; }
      legend { color: #871E31; font-size: 120%; }
      label { white-space: nowrap; }
      p.description { margin: 2em 2em 1em 2em; }
      form table td.name { vertical-align: middle; }
      
      /* footer styles */
      div.footer { padding: 0.5em 1em 0.5em 1em; background: #EFEFEF; border-top: 1px #A0A0A0 dotted; }
      div.footer table { width: 100%; }
      div.footer td.right { text-align: right; }

    </style>
    <style type="text/css" media="print">
            p.localnavbar { display: none; }
      
      div.header { background: white; }
      div.header h1 { color: black; }
      div.header h2 { color: black; }

    </style>
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="grim.pro (OMINAS Documentation)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">


    <div class="content">
      
      <h2 class="directory">grim/</h2>
      
      <h1 class="basename">grim.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      
      <div id="file_comments">
        <div class="small "><p>	General-purpose GRaphical Interface for oMinas.


</p>

<p>	Grim operates directly on the memory images of the descriptors that
	it is given.  Therefore, those descriptors are modified during
	a session.  This architecture allows data to be operated on concurrently
	through grim and from the command line; see grift.pro for details.


 LAYOUT:
	The philosphy that drives GRIM's layout is that the maximum possible
	screen space should be devoted to displaying the data.  This policy
	allows for many GRIM windows to be used simultaneously without being
	obscured by crazy control panels full of buttons, gadgets, widgets,
	doodads, whirly-gigs, and what-nots.  The grim layout consists of the
	following items:

	 Title bar:
		The title bar displays the grim window number (grn),
		the current plane number (pn), the total number of planes, the
		name field of the data descriptor for the current plane, the
		default title (if given; see the title keyword above), and
		a string indicating which RGB channels are associated with the
		current plane.

	 Menu bar:
		Most of grim's functionality is accessed through the
		system of pulldown menus at the top.  Individual menu
		items are described in their own sections.

	 Shortcut buttons:
		Some commonly used menu options are duplicated as shortcut
		buttons arranged horizontally just beneath the menu bar.  The
		function of each button is displayed in the status bar (see
		below) when the mouse cursor is hovered ove the button.

	 Cursor mode buttons:
		Cursor mode shortcut buttons are arranged vertically along the
		left side of the GRIM window, and as provided as shortcuts
		for the corresponding options in the Mode menu.  The following
		modes are available:

		Activate:
			In activate mode, overlay objects may be activated
			or deactivated by clicking and/or dragging using the
			left or right mouse buttons respectively.  This
			activation mechanism allows the user to select which
			among a certain type of objects should be used in a
			given menu selection.  A left click on an overlay
			activates that overlay and a right click deactivates
			it.  A double click activates or deactivates all
			overlays associated with a given descriptor, or all
			stars.  Active overlays appear in the colors selected
			in the 'Overlay Settings' menu selection.  Inactive
			overlays appear in cyan.  A descriptor is active
			whenever any of its overlays are active.

		Zoom:	The zoom button puts grim in a zoom cursor mode, wherein
			the image zoom and offset are controlled by selecting
			a box in the image.  When the box is created using the
			left mouse button, zoom and offset are changed so that
			the contents of the box best fill the current graphics
			window.  When the right button is used, the contents of
			the current graphics window are shrunken so as to best
			fill the box.  In other words, the left button zooms in
			and the right button zooms out.

		Pan: 	The pan button puts grim in a pan cursor mode, wherein the
			image offset is controlled by selecting an offset vector
			using the left mouse button.  The middle button may be
			used to center the image on a selected point.

		Pixel Readout:
			In pixel readout mode, a text window appears
			and displays data about the pixel selected
			using the left mouse button.

		Tiepoint:
			In tiepoint mode, tiepoints are added using the
			left mouse button and deleted using the right button.
			Tiepoints appear as crosses identified by numbers.
			The use of tiepoints is determined by the particular
			option selected by the user.

		Curve:
			In curve mode, curves are added using the
			left mouse button and deleted using the right button.
			Curves appear as red lines identified by numbers at
			each end.  The use of curves is determined by the
			particular option selected by the user.

		Mask:
			GRIM maintains a mask for each plane whose use is
			appication-dependent.  Mask mode allows pixels in the
			mask to be toggled on and off.

		Magnify:
			In magnify mode, image pixels in the graphics
			window may be magnifed using either the right or left
			mouse buttons.  The left button magnifies the displayed
			pixels, directly from the graphics window.  The right
			button magnifies the data itself, without the overlays.

		XY Zoom:
			Same as 'zoom' above, except the aspect ratio is
			set by the proportions of the selected box.

		Remove overlays:
			Allows the user to remove overlay arrays.

		Trim overlays:
			Allows the user to trim points from overlay arrays.

		Select within overlays:
			Allows the user to select points within overlay arrays.

		Define Region:
			Allows the user to define GRIM's region of interest.

		Smooth:
			Allows the user to select a smoothing box to be applied
			to the data array.

		Select Plane:
			Allows the user to change planes using the pointer.
			This option is only useful in cases where multiple
			planes are displayed.

		Drag Image:
			Allows the user to reposition the current plane by
			clicking and dragging.

		Navigate:
			Allows the user to modify the camera position and
			orientation usng the mouse.


	 Graphics window:
		The graphics window displays the data associated with the
		given data descriptor using the current zoom, offset, and
		display order.  The edges of an image are indicated by a dotted
		line.  The camera optic axis is indicated by a large red cross.

	 Pixel readout:
		The cursor position and corresponding data value are are
		displayed beneath the graphics window, next to the message line.

	 Message line:
		The message line displays short messages pertaining GRIM's
		 current state, or displayng button functions.

 CALLBACK PROCEDURES:
	GRIM callback procedures are called with one or two arguments:
       the first argument is a pointer to data that was provided
	when the callback was added.  The second argument, if present, depends
	on the applicatation.


 RESOURCE NAMES
	The following X-windows resource names apply to grim:
	 grim_base:		top level base
	 grim_mbar:		menu bar
	 grim_shortcuts_base:	base containing shortcut buttons
	 grim_modes_base:	base containing modes buttons
	 grim_draw:		grim draw widget
	 grim_label:		grim bottom label widget

	To turn off the confusing higlight box around the modes buttons,
	put the following line in your ~/.Xdefaults file:

	 Idl*grim_modes_base*highlightThickness:	0


 OPERATION:
	GRIM displays 1-, 2-, and 3-dimensional data sets.  1-dimensional
	data arrays are displayed as plots.  In that case, the abscissa is
	the sample number unless the data descriptor contains an abscissa.
	2- and 3-dimensional arrays are displaye as image planes.  The only
	difference between images and cubes in GRIM is that images planes
	each have their own data descriptor, while cubes are represented by
	multiple image planes that share a common data descriptor; each plane
	in a cube corresponds to a unique offset in the data array stored in
	the common data descriptor.  Some functionality is not available when
	working with plots.  In that case, those options do not appear in the
	menus.

	GRIM requests only the data samples needed for the current viewing
	parameters.  Therefore, GRIM can display data sets of arbitrary size
	when used with a file reader that supports subsampling.  However, note
	that specific menu options may request the entire data array, depending
	on the application.

	Each GRIM window may contain any number of planes as well as
	associated geometric data (i.e. object descriptors) and overlay arrays
	for displaying various geometric objects -- limbs, rings, stars, etc.
	An array of user overlay points is maintained to be used for application-
	specific purposes.  Generally, a set of overlay points or a descriptor
	must be activated in order to be used as input to a menu item; see
	activate mode above.

	There are exclusive and non-exclusive mechanisms for selecting grim
	windows.  Grim windows may be non-exclusively selected using the select
	mode button mentioned above (upper-left corner).  The exclusive
	selection mechanism consists of a "primary" GRIM window, indicated by
	a red outline in the graphics window.  The primary selection is
	changed by pressing any mode or shortcut button, or by clicking in
	the graphics area of the desired grim window.  The meaning of the
	various selections depends on the application.

	The functions of the left and right mouse buttons are determined by the
	cursor mode; some cursor modes define modifier keys to broaden the number
	of functions available in that mode.  The middle mouse button toggles
	the activation state of overlay arrays, or pans the image if no overlay
	appears beneath the cursor.  The mouse wheel cycles among cursor modes,
	or zooms about the cursor position if the control key is held down.

	Objects maintained by GRIM are accessible via the grift interface,
	for example:

		IDL> grift, dd=dd, cd=cd, pd=pd, limb_ptd=limb_ptd

	returns the data desciptor, camera descriptor, planet descriptors,
	and limb points associated with the current plane.

	GRIM registers event handlers for all of its objects, so the window
	is updated any time an object is modifed, whether by GRIM or by some
	other program, or from the command line.


 EXAMPLES:
	(1) To create a new grim instance with no data:

		IDL> grim, /new

	(2) To create a new grim instance with data from a file of name
	    "filename":

		IDL> dd = dat_read(filename)
		IDL> grim, dd

		   or

		IDL> grim, filename

	(3) To give an existing grim instance a new camera descriptor:

		IDL> grim, cd=cd


 KNOWN BUGS:
	Window resizing is not precise.  GRIM tries to resize to the selected
	size, but typically overshoots.  This is probably platform-dependent.

	Objects inherited by rendering planes do not respond to events.

	Image shifting:
	 -  Descriptors not updated if shift performed form another window
	    because the there's no way for the irst window to know to
	    update its descriptors
        - fix wrap-around; clip instead

	Plane->Coregister does not update descriptors

	Navigate mode gets weird when you do certain modifer key presses
	   --> maybe a conflict with <ctrl> wheel zoom action

	Crashes occur with File->Close

	/no_erase is not enabled for images, just plots.  Probably should fix
	that.

	Initial visibility setting does not seem to work until applied
	using plane settings window.

	/frame causes a crash if there are no initial overlays.

	It's not clear whether the symsize keyword is actually used.

	pn keyword does not function.

	Crash when tiepoint syncing is on and tiepoint selected with
	multiple planes.

	Title keyword does not properly map multiple elements to multiple
	planes.

	Nsum keyword does not properly map multiple elements to multiple
	planes.

	Plane syncing appears to be incomplete and I don't remember what it
	was supposed to be.  I'm sure it was awesome, though.

	Not sure what slave_overlays keyword does, or was supposed to do.

	Overlays on rendered planes do not respond to events

	Menu toggles don't update propoerly in some circumsumstances.

	grim_message sometimes pops up messages from nv_message, which can
	be pretty obnxious.  This probably has to do with the calls to
	grim_message in grim_compute.include

	Overlay point selections are not retained after recomputing

	Undo does not seem to be working



 STATUS:
	Incomplete.


 SEE ALSO:
	grift, graft


</p>

</div>
      </div>
      

      

      
      <h2>Author information</h2>

        <dl class="attribute small" summary="File author information">
          

          

          
            <dt>History</dt>
            <dd><p> 	Written by:	Spitale 7/2002

</p>

</dd>
          

          
        </dl>
      

      

      

      

      

      

      

      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Mon Jul 31 09:34:11 2017</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>3,743</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.6.1 on Tue Aug  1 10:36:21 2017</td>
          <td class="right"><a target="_top" href="http://github.com/mgalloy/idldoc">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>