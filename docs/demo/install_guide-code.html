<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Tue Jul 18 14:35:46 2017 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>install_guide.pro (OMINAS API Documentation)</title>

    
    <style type="text/css" media="all">
            /* setup page */
      body { font-family: Helvetica, sans-serif; font-size: 12pt; margin: 0; padding: 0; }
      div.content { padding: 1em; }
      p { line-height: 1.4; }
      td p { padding-bottom: 0.5em; }
      img { border: 0; }
      
      /* link styles */
      a { text-decoration: none; }
      a:link, a:visited { color: #0000FF; }
      a:hover, a:focus { background: yellow; border-bottom: 1emx dotted #303099; }
      
      /* dir-overview styles */
      dt.filename { margin-top: 0.5em; }
      dl.file_listing { margin-left: 1em; }
      
      /* titles */
      h1, h2, h3, h4 { font-weight:normal; color: #871E31; margin-top: 1.5em; }
      h4 { margin-bottom: 0.25em; }
      .center { margin-left: auto; margin-right: auto; }
      .small { font-family: Verdana, Helvetica, sans-serif; font-size: 90%; }
      .smaller { font-family: Verdana, Helvetica, sans-serif; font-size: 80%; }
      .smallest { font-family: Verdana, Helvetica, sans-serif; font-size: 70%; }
      h1.basename { margin-top: 0; margin-bottom: 0; }
      h1.basename span.file-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      h2.directory { font-size: 90%; margin-bottom: 0; }
      h2.routine-name { margin-top: 0; margin-bottom: 0; }
      p.categories { color: #384806; margin-top: 0; }
      span.file_attribute { float: right; color: #384806; margin: 0 0 1em 3em; }
      div#file_comments { margin-top: 1em; }
      
      div.routine-details { border: 1px dotted #C0C0C0; margin-top: 1em; padding: 1em; }
      span.routine-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      div.details dt { color: #871E31; margin-left: 2em; }
      div.details dt span { color: #384806; margin-left: 2em; }
      div.details dd { margin: 0.5em 2em 1em 4em; }
      a.top {
        font-family: Verdana, Helvetica, sans-serif;
        font-size: 8pt;
        font-weight: bold;
        color: #5070ff;
        text-transform: uppercase;
        float: right;
        margin-left: 1em;
      }
      
      /* comments */
      .pre { white-space: pre; }
      
      /* code styles */
      code { font-family: Monaco, "Courier New", Courier, monospace; font-size: 95%; }
      code.listing { white-space: pre; display: block; margin: 0.75em 0 0.75em 0; padding: 0 3em 0 1em; line-height: 1.4em; }
      code.source { white-space: pre; display: block; }
      code.source span.comments { color: #408080; }
      .syntax { margin-top: 1em; margin-left: 1.5em; text-indent: -1.5em; }
      .var { font-style: italic; }
      .argument { } /* white-space: nowrap; does not work in Safari (and sometimes not even in Firefox) */
      
      dl.routine-summary dt { margin-bottom: 0.25em; }
      dl.routine-summary dd { margin-bottom: 0.5em; margin-left: 2em; }
      
      ul.inherited-method-summary { padding-left: 0em; margin-left: 0em; }
      
      /* general styles */
      ul li { list-style-type: none; }
      table { empty-cells: show; }
      thead { color: #871E31; }
      dd { margin-bottom: 0.35em; }
      input, textarea { background: #F3F6ED; border: #E1D6C6 1px solid; padding: 2px 1em 2px 0.5em; }
      input.text { background: #FFFFC0; }
      
      div.note { margin: 1em 2em 1em 2em; background: #EFEFEF; border: 1px #A0A0A0 dotted; padding: 0 1em 0 1em; }
      p.indent { margin-left: 2em; }
      
      /* An attribute table is a vertical list of name-value pairs. */
      table.box {
        background: #EFEFEF;
        border: 1px #A0A0A0 dotted;
        padding-top: 0.75em;
        padding-bottom: 0.75em;
      }
      table.attribute { padding-left: 0.75em; padding-right: 0.75em; }
      table td { vertical-align: top; }
      table.attribute p { margin: 0; }
      table td.name { font-style: normal; padding-right: 1.5em; }
      ul.fieldslist { padding-top: 0; color: #909090; }
      ul.fieldslist li { margin-bottom: 0.25em; }
      span.fieldname { color: #000000; }
      
      dl.attribute dt { color: #990000; }
      
      /* header/navbar styles */
      div.header { padding: 2em 2em 0 2em; background: #9E9D7B; border-bottom: 2px #262626 solid; }
      div.header h1 { color: white; margin:0; font-weight: normal; }
      div.header h2 { color: white; margin-top: 0; margin-bottom: 1em; font-weight: normal; font-style: italic; font-size: 100%; }
      table.navbar { background: #CCC097; margin: 0; padding: 0; border-bottom: 1px #262626 dotted; width: 100%; }
      table.navbar td { padding: 4px 0.5em 3px 0.5em; white-space: nowrap; vertical-align: top; }
      table.navbar td.flexible { width: 100%; text-align: right; padding-right: 1em; white-space: nowrap; }
      table.navbar td.selected { background: #262626; }
      table.navbar td.selected, table.navbar td.selected a { color: white; }
      table.navbar a:hover, table.navbar a:focus { background: inherit; border-bottom: 1px solid #303099; }
      p.localnavbar { text-align: right; margin: 0.2em 1em 0.2em 0.2em; padding: 0; }
      
      /* CSS graphics styles */
      div.box {
        margin-left: 0.25em;
        display: inline-block;
        width: 0.9em;
        height: 0.9em;
        vertical-align: -1px;
      }
      .red { background-color: #A00; }
      .orange { background-color: #F40; }
      .green { background-color: #480; }
      
      /* index styles */
      span.index_type { margin-left: 1em; }
      dl.index_listing dd { margin-bottom: 0.5em; margin-left: 2em; }
      dl.index_listing dd p { margin-top: 0.2em; margin-bottom: 0em; }
      
      /* search styles */
      fieldset { border: #ddd 1px solid; padding: 1em; margin-top: 3em; }
      legend { color: #871E31; font-size: 120%; }
      label { white-space: nowrap; }
      p.description { margin: 2em 2em 1em 2em; }
      form table td.name { vertical-align: middle; }
      
      /* footer styles */
      div.footer { padding: 0.5em 1em 0.5em 1em; background: #EFEFEF; border-top: 1px #A0A0A0 dotted; }
      div.footer table { width: 100%; }
      div.footer td.right { text-align: right; }

    </style>
    <style type="text/css" media="print">
            p.localnavbar { display: none; }
      
      div.header { background: white; }
      div.header h1 { color: black; }
      div.header h2 { color: black; }

    </style>
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="install_guide.pro (OMINAS API Documentation)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">; docformat = 'rst'</span>
<span class="comments">;==============================================================================</span>
<span class="comments">;+</span>
<span class="comments">;</span>
<span class="comments">;	User Installation Guide </span>
<span class="comments">;	=======================</span>
<span class="comments">;</span>
<span class="comments">;	This guide will cover the installation of OMINAS and common issues with</span>
<span class="comments">;	configuration, as well as present some common errors and possible</span>
<span class="comments">;	solutions. Please see the section entitled `Troubleshooting` for more</span>
<span class="comments">;	information regarding installation issues with OMINAS.</span>
<span class="comments">;</span>
<span class="comments">;	Requirements</span>
<span class="comments">;	============</span>
<span class="comments">;	</span>
<span class="comments">;	Currently OMINAS requires IDL 8.2.3 or above, and a bash shell, on Linux or</span>
<span class="comments">;	Mac OS.</span>
<span class="comments">;	</span>
<span class="comments">;	To process images from a particular mission, that mission's kernels will</span>
<span class="comments">;	need to be available. The OMINAS installer can automatically download sets of</span>
<span class="comments">;	kernels for several missions (Cassini, Galileo, Voyager, Dawn).</span>
<span class="comments">;</span>
<span class="comments">;	OMINAS makes use of the NAIF Icy Toolkit to process SPICE kernels. The Icy</span>
<span class="comments">;	toolkit may optionally be obtained manually from </span>
<span class="comments">;	`NAIF &lt;https://naif.jpl.nasa.gov/naif/toolkit_IDL.html>`. However, the</span>
<span class="comments">;	installer utility provided with OMINAS can download and compile Icy</span>
<span class="comments">;	automatically. Installation of Icy is somewhat platform-dependent, so</span>
<span class="comments">;	troubleshooting information can be found in `Troubleshooting`.</span>
<span class="comments">;</span>
<span class="comments">;	Procedure</span>
<span class="comments">;	=========</span>
<span class="comments">;</span>
<span class="comments">;	1. Please ensure that OMINAS has been properly downloaded from the</span>
<span class="comments">;	`Github repository &lt;https://github.com/ppenteado/ominas>` by entering</span>
<span class="comments">;	the following command at the terminal::</span>
<span class="comments">;</span>
<span class="comments">;	 git clone https://github.com/ppenteado/ominas</span>
<span class="comments">;</span>
<span class="comments">;	A local copy of the OMINAS source will be cloned automatically.</span>
<span class="comments">;</span>
<span class="comments">;	2. Configuration of OMINAS should be performed using the configuration</span>
<span class="comments">;	script, configure.sh, which is located in the top-level ominas directory.</span>
<span class="comments">;	This script can be run from the command line with::</span>
<span class="comments">;</span>
<span class="comments">;	 source configure.sh</span>
<span class="comments">;</span>
<span class="comments">;	3. A prompt will appear asking which packages should be installed. The</span>
<span class="comments">;	user should type the numbers of the desired packages separated by spaces.</span>
<span class="comments">;	We recomend, at a minimum, setting up packages 1, 2 and 3 (OMINAS Core, Demo and Icy).</span>
<span class="comments">;	To automatically download and setup all the packages, use the `all` option.</span>
<span class="comments">;</span>
<span class="comments">;	4. When setting up an individual kernel or data package (selections 4-13),</span>
<span class="comments">;	one can either provide a path for an existing directory containing the required files,</span>
<span class="comments">;	or tell the installer to download them.</span>
<span class="comments">;</span>
<span class="comments">;	5. Test the install of OMINAS has been completed correctly by running the</span>
<span class="comments">;	the following example scripts::</span>
<span class="comments">;</span>
<span class="comments">;	 ominas saturn_example.pro</span>
<span class="comments">;	 ominas jupiter_example.pro</span>
<span class="comments">;</span>
<span class="comments">;	6. A successful Icy installation can be tested with the following IDL</span>
<span class="comments">;	command from within an OMINAS IDL session::</span>
<span class="comments">;</span>
<span class="comments">;	 help, 'icy', /dlm</span>
<span class="comments">;</span>
<span class="comments">;	Some text on the installed version of Icy should be displayed. Additionally,</span>
<span class="comments">;	use the following command::</span>
<span class="comments">;</span>
<span class="comments">;	 print, cspice_tkvrsn('TOOLKIT')</span>
<span class="comments">;</span>
<span class="comments">;	The version of Icy should be printed. If both of these functions return</span>
<span class="comments">;	successfully, then Icy has been installed correctly.</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; Example installation walkthrough</span>
<span class="comments">; ================================</span>
<span class="comments">; </span>
<span class="comments">; From a fresh account (that never had OMINAS, Icy or any IDL libraries setup</span>
<span class="comments">; before), for the 3 main packages (Core, Demo and Icy)::</span>
<span class="comments">; </span>
<span class="comments">;   ;[ominas_test_8@cmp ~]$ git clone https://github.com/ppenteado/ominas.git</span>
<span class="comments">;   ;Cloning into 'ominas'...</span>
<span class="comments">;   ;Username for 'https://github.com': ppenteado</span>
<span class="comments">;   ;Password for 'https://ppenteado@github.com':</span>
<span class="comments">;   ;remote: Counting objects: 13377, done.</span>
<span class="comments">;   ;remote: Compressing objects: 100% (85/85), done.</span>
<span class="comments">;   ;remote: Total 13377 (delta 51), reused 71 (delta 34), pack-reused 13258</span>
<span class="comments">;   ;Receiving objects: 100% (13377/13377), 200.48 MiB | 8.10 MiB/s, done.</span>
<span class="comments">;   ;Resolving deltas: 100% (7628/7628), done.</span>
<span class="comments">;   ;Checking connectivity... done.</span>
<span class="comments">;   ;Checking out files: 100% (3479/3479), done.</span>
<span class="comments">;   </span>
<span class="comments">; At this point, a copy of OMINAS will be in a newly-created directory called</span>
<span class="comments">; ominas, under the current directory. Note that if a non-empty ominas directory</span>
<span class="comments">; was already present, git would notice it and refuse to download OMINAS into that</span>
<span class="comments">; directory.</span>
<span class="comments">; </span>
<span class="comments">;  Now, getting into the ominas directory and running the installer::</span>
<span class="comments">;</span>
<span class="comments">;   ;[ominas_test_8@cmp ~]$ cd ominas/</span>
<span class="comments">;   ;[ominas_test_8@cmp ominas]$ source configure.sh</span>
<span class="comments">;   ;Detecting .bash_profile...</span>
<span class="comments">;   ;.bash_profile detected!</span>
<span class="comments">;   ;Detecting .bashrc...</span>
<span class="comments">;   ;.bashrc detected!</span>
<span class="comments">;   ;Using IDL at /usr/local/bin/idl</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: XXXXXX.</span>
<span class="comments">;   ;Licensed for use by: XXXXXX</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;Creating ~/.ominas directory</span>
<span class="comments">;   ;Creating ~/ominas_data directory</span>
<span class="comments">;   ;The setup will guide you through the installation of OMINAS</span>
<span class="comments">;   ;OMINAS files located in /home/ominas_test_8/ominas</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: XXXXX.</span>
<span class="comments">;   ;Licensed for use by: XXXXX</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;% Compiled module: OMINAS_ICY_TEST.</span>
<span class="comments">;   ;Icy: Icy not found</span>
<span class="comments">;   ;Current OMINAS configuration settings</span>
<span class="comments">;   ;Required:</span>
<span class="comments">;   ;1) OMINAS Core  . . . . . . . . . . . . .  NOT CONFIGURED</span>
<span class="comments">;   ;Contains the OMINAS code. If you select only one</span>
<span class="comments">;   ;of the other packages, this will be included.</span>
<span class="comments">;   ;Optional packages:</span>
<span class="comments">;   ;2) Demo package . . . . . . . . . . . . .  NOT CONFIGURED</span>
<span class="comments">;   ;Contains the demo scripts and the data required</span>
<span class="comments">;   ;to run then.</span>
<span class="comments">;   ;These files are always present (in ominas/demo),</span>
<span class="comments">;   ;this option is to set up the environment so that</span>
<span class="comments">;   ;the demos can be run.</span>
<span class="comments">;   ;3) SPICE Icy  . . . . . . . . . . . . . .  NOT CONFIGURED</span>
<span class="comments">;   ;Library maintained by JPL's NAIF (Navigation and Ancillary</span>
<span class="comments">;   ;Information Facility, https://naif.jpl.nasa.gov/naif/toolkit.html,</span>
<span class="comments">;   ;required to use spacecraft / planetary kernel files.</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;Mission Packages:</span>
<span class="comments">;   ;Kernels used for each mission's position and</span>
<span class="comments">;   ;pointing data. If you do not already have them,</span>
<span class="comments">;   ;an option to download them from PDS will be provided.</span>
<span class="comments">;   ;If you already have them, you will need to provide</span>
<span class="comments">;   ;the path to your kernel files.</span>
<span class="comments">;   ;Note: the NAIF Generic Kernels (one of the optional</span>
<span class="comments">;   ;data packages) are not required for the missions, they</span>
<span class="comments">;   ;already contain a copy the subset of the generic kernel</span>
<span class="comments">;   ;files they need.</span>
<span class="comments">;   ;4) Cassini . . . . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;Subsetted, about 16 GB as of Dec/2016</span>
<span class="comments">;   ;5) Galileo (GLL) . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 833 MB as of Dec/2016</span>
<span class="comments">;   ;6) Voyager . . . . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 163 MB as of Dec/2016</span>
<span class="comments">;   ;7) Dawn  . . . . . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;Subsetted, about 8 GB as of Jan/2017</span>
<span class="comments">;   ;Data:</span>
<span class="comments">;   ;8) NAIF Generic Kernels . . . . . . . . .  NOT CONFIGURED</span>
<span class="comments">;   ;About 22 GB as of Dec/2016</span>
<span class="comments">;   ;9) SEDR image data . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;10) TYCHO2 star catalog . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 161 MB download, 665 MB unpacked</span>
<span class="comments">;   ;11) SAO star catalog . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 19 MB download, 70 MB unpacked</span>
<span class="comments">;   ;12) GSC star catalog . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;13) UCAC4 star catalog . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 8.5 GB download</span>
<span class="comments">;   ;For more information, see</span>
<span class="comments">;   ;https://ppenteado.github.io/ominas_doc/demo/install_guide.html</span>
<span class="comments">;   ;Modify Current OMINAS configuration (Exit/Auto/Uninstall 1 2 ...)?  1 2 3</span>
<span class="comments">;   ;Settiing OMINAS Core...</span>
<span class="comments">;   ;OMINAS requires the NAIF Icy toolkit to process SPICE kernels.</span>
<span class="comments">;   ;Would you like to install Icy from the internet now? [y]</span>
<span class="comments">;   ;http://naif.jpl.nasa.gov/pub/naif/toolkit//IDL/PC_Linux_GCC_IDL8.x_64bit/packages/icy.tar.Z ~/ominas_data/icy.tar.Z</span>
<span class="comments">;   ;http://naif.jpl.nasa.gov/pub/naif/toolkit//IDL/PC_Linux_GCC_IDL8.x_64bit/packages/icy.tar.Z --localdir=/home/ominas_test_8/ominas_data/</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: XXXXXX.</span>
<span class="comments">;   ;Licensed for use by: XXXXXX</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;% Compiled module: PP_WGETCL.</span>
<span class="comments">;   ;% Compiled module: PP_COMMAND_LINE_ARGS_PARSE.</span>
<span class="comments">;   ;% Loaded DLM: URL.</span>
<span class="comments">;   ;% Compiled module: PP_WGET__DEFINE.</span>
<span class="comments">;   ;util/downloader/ca-bundle.crt</span>
<span class="comments">;   ;% Compiled module: PARSE_URL.</span>
<span class="comments">;   ;downloading http://naif.jpl.nasa.gov/pub/naif/toolkit//IDL/PC_Linux_GCC_IDL8.x_64bit/packages/icy.tar.Z</span>
<span class="comments">;   ;% Compiled module: PP_READABLESIZE.</span>
<span class="comments">;   ;Content Length:  276.00000 B</span>
<span class="comments">;   ;% Compiled module: PP_PARSE_DATE.</span>
<span class="comments">;   ;% Compiled module: JULDAY.</span>
<span class="comments">;   ;Content Length:  43.669736 MB</span>
<span class="comments">;   ;% Compiled module: CALDAT.</span>
<span class="comments">;   ;Extracting Icy source files...</span>
<span class="comments">;   ;Compiling Icy...</span>
<span class="comments">;   ;Icy compiled. Log is at ~/.ominas/icy_make.log</span>
<span class="comments">;   ;writing /home/ominas_test_8/.ominas/ominas_setup.sh</span>
<span class="comments">;   ;‘/home/ominas_test_8/.ominas/ominas_setup.sh’ -> ‘/home/ominas_test_8/.ominas/ominas_setup_old.sh’</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;done with writing /home/ominas_test_8/.ominas/ominas_setup.sh</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: XXXXXX.</span>
<span class="comments">;   ;Licensed for use by: XXXXXX</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;% Compiled module: OMINAS_PATHS_ADD.</span>
<span class="comments">;   ;Checking to see if IDL paths need to be changed...</span>
<span class="comments">;   ;% Compiled module: IDLASTRO_DOWNLOAD.</span>
<span class="comments">;   ;% Compiled module: ROUTINE_EXISTS.</span>
<span class="comments">;   ;There are missing IDLAstro routines.</span>
<span class="comments">;   ;Auto installing</span>
<span class="comments">;   ;git clone https://github.com/wlandsman/IDLAstro.git /home/ominas_test_8/ominas_data/idlastro</span>
<span class="comments">;   ;Cloning into '/home/ominas_test_8/ominas_data/idlastro'...</span>
<span class="comments">;   ;remote: Counting objects: 1400, done.</span>
<span class="comments">;   ;remote: Compressing objects: 100% (7/7), done.</span>
<span class="comments">;   ;remote: Total 1400 (delta 1), reused 3 (delta 1), pack-reused 1392</span>
<span class="comments">;   ;Receiving objects: 100% (1400/1400), 11.63 MiB | 4.85 MiB/s, done.</span>
<span class="comments">;   ;Resolving deltas: 100% (556/556), done.</span>
<span class="comments">;   ;Checking connectivity... done.</span>
<span class="comments">;   ;IDLAstro path set in preferences:  &lt;IDL_DEFAULT>:+/home/ominas_test_8/ominas_data/idlastro/pro</span>
<span class="comments">;   ;OMINAS paths set in IDL preferences</span>
<span class="comments">;   ;Icy path set in IDL preferences</span>
<span class="comments">;   ;OMINAS aliase set in /home/ominas_test_8/.bashrc.</span>
<span class="comments">;   ;OMINAS aliase set in /home/ominas_test_8/.bash_profile.</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: 5502667.</span>
<span class="comments">;   ;Licensed for use by: NASA - Jet Propulsion Laboratory</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;% Compiled module: OMINAS_ICY_TEST.</span>
<span class="comments">;   ;% Loaded DLM: ICY.</span>
<span class="comments">;   ;Icy: /home/ominas_test_8/ominas_data/icy/lib/icy.so</span>
<span class="comments">;   ;Current OMINAS configuration settings</span>
<span class="comments">;   ;Required:</span>
<span class="comments">;   ;1) OMINAS Core  . . . . . . . . . . . . .  CONFIGURED</span>
<span class="comments">;   ;Contains the OMINAS code. If you select only one</span>
<span class="comments">;   ;of the other packages, this will be included.</span>
<span class="comments">;   ;Optional packages:</span>
<span class="comments">;   ;2) Demo package . . . . . . . . . . . . .  CONFIGURED</span>
<span class="comments">;   ;Contains the demo scripts and the data required</span>
<span class="comments">;   ;to run then.</span>
<span class="comments">;   ;These files are always present (in ominas/demo),</span>
<span class="comments">;   ;this option is to set up the environment so that</span>
<span class="comments">;   ;the demos can be run.</span>
<span class="comments">;   ;3) SPICE Icy  . . . . . . . . . . . . . .  CONFIGURED</span>
<span class="comments">;   ;Library maintained by JPL's NAIF (Navigation and Ancillary</span>
<span class="comments">;   ;Information Facility, https://naif.jpl.nasa.gov/naif/toolkit.html,</span>
<span class="comments">;   ;required to use spacecraft / planetary kernel files.</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;Mission Packages:</span>
<span class="comments">;   ;Kernels used for each mission's position and</span>
<span class="comments">;   ;pointing data. If you do not already have them,</span>
<span class="comments">;   ;an option to download them from PDS will be provided.</span>
<span class="comments">;   ;If you already have them, you will need to provide</span>
<span class="comments">;   ;the path to your kernel files.</span>
<span class="comments">;   ;Note: the NAIF Generic Kernels (one of the optional</span>
<span class="comments">;   ;data packages) are not required for the missions, they</span>
<span class="comments">;   ;already contain a copy the subset of the generic kernel</span>
<span class="comments">;   ;files they need.</span>
<span class="comments">;   ;4) Cassini . . . . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;Subsetted, about 16 GB as of Dec/2016</span>
<span class="comments">;   ;5) Galileo (GLL) . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 833 MB as of Dec/2016</span>
<span class="comments">;   ;6) Voyager . . . . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 163 MB as of Dec/2016</span>
<span class="comments">;   ;7) Dawn  . . . . . . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;Subsetted, about 8 GB as of Jan/2017</span>
<span class="comments">;   ;Data:</span>
<span class="comments">;   ;8) NAIF Generic Kernels . . . . . . . . .  NOT CONFIGURED</span>
<span class="comments">;   ;About 22 GB as of Dec/2016</span>
<span class="comments">;   ;9) SEDR image data . . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;10) TYCHO2 star catalog . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 161 MB download, 665 MB unpacked</span>
<span class="comments">;   ;11) SAO star catalog . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 19 MB download, 70 MB unpacked</span>
<span class="comments">;   ;12) GSC star catalog . . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;13) UCAC4 star catalog . . . . . . . . . . NOT CONFIGURED</span>
<span class="comments">;   ;About 8.5 GB download</span>
<span class="comments">;   ;For more information, see</span>
<span class="comments">;   ;https://ppenteado.github.io/ominas_doc/demo/install_guide.html</span>
<span class="comments">;   ;Modify Current OMINAS configuration (Exit/Auto/Uninstall 1 2 ...)?  e</span>
<span class="comments">;   ;Setup has completed. It is recommended to restart your terminal session before using OMINAS.</span>
<span class="comments">;   ;You may want to try some of the tutorials at https://ppenteado.github.io/ominas_doc/demo/</span>
<span class="comments">;   </span>
<span class="comments">;   </span>
<span class="comments">; At this point, one can run a few tests of the enviroment::</span>
<span class="comments">; </span>
<span class="comments">;   ;[ominas_test_8@cmp ominas]$ which ominas</span>
<span class="comments">;   ;alias ominas='/home/ominas_test_8/.ominas/ominas'</span>
<span class="comments">;   ;~/.ominas/ominas</span>
<span class="comments">;   ;[ominas_test_8@cmp ominas]$ which ominasde</span>
<span class="comments">;   ;alias ominasde='/home/ominas_test_8/.ominas/ominasde'</span>
<span class="comments">;   ;~/.ominas/ominasde</span>
<span class="comments">;</span>
<span class="comments">; Which shows both ominas and ominasde are defined. Use ominas to start and IDL</span>
<span class="comments">; session in which to use OMINAS, and ominasde to start an IDL DE session in</span>
<span class="comments">; which to use OMINAS.</span>
<span class="comments">; </span>
<span class="comments">; Now, to check on the ominas_setup file, which sets the environment for the OMINAS</span>
<span class="comments">; core and all currently set packages (in this example, only Core, Demo and Icy are set)::</span>
<span class="comments">; </span>
<span class="comments">;   ;[ominas_test_8@cmp ominas]$ cat ~/.ominas/ominas_setup.sh</span>
<span class="comments">;   ;#!/usr/bin/env bash</span>
<span class="comments">;   ;alias ominas=~/.ominas/ominas</span>
<span class="comments">;   ;alias ominasde=~/.ominas/ominasde</span>
<span class="comments">;   ;export OMINAS_DIR=/home/ominas_test_8/ominas</span>
<span class="comments">;   ;export DFLAG=true</span>
<span class="comments">;   ;source /home/ominas_test_8/ominas/config/ominas_env_def.sh</span>
<span class="comments">;   ;unset NV_Generic_kernels_DATA</span>
<span class="comments">;   ;unset NV_SEDR_DATA</span>
<span class="comments">;   ;unset NV_TYCHO2_DATA</span>
<span class="comments">;   ;unset NV_SAO_DATA</span>
<span class="comments">;   ;unset NV_GSC_DATA</span>
<span class="comments">;   ;unset NV_UCAC4_DATA</span>
<span class="comments">;</span>
<span class="comments">; Now, to check that the right environment is see from an OMINAS session::</span>
<span class="comments">;</span>
<span class="comments">;   ;[ominas_test_8@cmp ominas]$ ominas -e 'spawn,"env | grep NV"'</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: XXXXX.</span>
<span class="comments">;   ;Licensed for use by: XXXXX</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;NV_TRANSLATORS=/home/ominas_test_8/ominas/config/tab/translators.tab:/home/ominas_test_8/ominas/demo/data/translators.tab</span>
<span class="comments">;   ;NV_CONFIG=/home/ominas_test_8/ominas/config</span>
<span class="comments">;   ;NV_IO=/home/ominas_test_8/ominas/config/tab/io.tab</span>
<span class="comments">;   ;NV_SPICE=/home/ominas_test_8/ominas/config/spice</span>
<span class="comments">;   ;NV_ORBIT_DATA=/home/ominas_test_8/ominas/config/orb/</span>
<span class="comments">;   ;NV_ARRAY_DATA=/home/ominas_test_8/ominas/config/arr/dat/</span>
<span class="comments">;   ;NV_TRANSFORMS=/home/ominas_test_8/ominas/config/tab/transforms.tab:/home/ominas_test_8/ominas/demo/data/transforms.tab</span>
<span class="comments">;   ;NV_STATION_DATA=/home/ominas_test_8/ominas/config/stn/</span>
<span class="comments">;   ;NV_RING_DATA=/home/ominas_test_8/ominas/config/rings/</span>
<span class="comments">;   ;NV_FTP_DETECT=/home/ominas_test_8/ominas/config/tab/filetype_detectors.tab</span>
<span class="comments">;   ;NV_SPICE_KER=::/home/ominas_test_8/ominas/demo/data</span>
<span class="comments">;   ;NV_INS_DETECT=/home/ominas_test_8/ominas/config/tab/instrument_detectors.tab:/home/ominas_test_8/ominas/demo/data/instrument_detectors.tab</span>
<span class="comments">;   </span>
<span class="comments">; Now, to check that the OMINAS paths show up inside an OMINAS IDL session::</span>
<span class="comments">; </span>
<span class="comments">;   ;[ominas_test_8@cmp ominas]$ ominas -e 'print,pref_get("IDL_PATH")'</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: XXXXX.</span>
<span class="comments">;   ;Licensed for use by: XXXXX</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;&lt;IDL_DEFAULT>:+/home/ominas_test_8/ominas_data/idlastro/pro:+/home/ominas_test_8/ominas_data/icy/lib:+/home/ominas_test_8/ominas:+/home/ominas_test_8/ominas/util/xidl</span>
<span class="comments">;   ;[ominas_test_8@cmp ominas]$ ominas -e 'print,pref_get("IDL_DLM_PATH")'</span>
<span class="comments">;   ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;   ;Installation number: XXXXX.</span>
<span class="comments">;   ;Licensed for use by: XXXXX</span>
<span class="comments">;   ;</span>
<span class="comments">;   ;&lt;IDL_DEFAULT>:+/home/ominas_test_8/ominas_data/icy/lib</span>
<span class="comments">;</span>
<span class="comments">; With this environment, one can run some demo scripts, such as::</span>
<span class="comments">; </span>
<span class="comments">;   ;ominas saturn_example</span>
<span class="comments">;   ;ominas jupiter_example</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; Testing the environment with ominas_env_info</span>
<span class="comments">; ============================================</span>
<span class="comments">;</span>
<span class="comments">;       OMINAS includes a utilty script that prints out the most commonly relevant about your OMINAS environment, which can be useful for debugging</span>
<span class="comments">;       (both for yourself, and when you send us questions). It can be run by calling ominas_env_info, from an ominas/ominasde session. If an argument</span>
<span class="comments">;       is provided, it will be the filename where the output will be saved into (as opposed to printing it to the console). One example::</span>
<span class="comments">;</span>
<span class="comments">;         ;[user@cmp ~]$ ominas</span>
<span class="comments">;         ;IDL Version 8.5.1 (linux x86_64 m64). (c) 2015, Exelis Visual Information Solutions, Inc., a subsidiary of Harris Corporation.</span>
<span class="comments">;         ;Installation number: XXXXXX.</span>
<span class="comments">;         ;Licensed for use by: XXXXXX</span>
<span class="comments">;         ;</span>
<span class="comments">;         ;IDL> ominas_env_info,'~/ominas_env_info.txt'</span>
<span class="comments">;</span>
<span class="comments">;       Which produces::</span>
<span class="comments">;</span>
<span class="comments">;         ;OMINAS variables:</span>
<span class="comments">;         ;OMINAS_RC=/home/user/.ominas</span>
<span class="comments">;         ;OMINAS_DEMO=/home/user/ominas/demo</span>
<span class="comments">;         ;OMINAS_DIR=/home/user/ominas</span>
<span class="comments">;         ;OMINAS_DATA=/home/user/ominas_data</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;NV variables:</span>
<span class="comments">;         ;NV_TRANSLATORS=/home/user/ominas/config/tab/translators.tab:/home/user/ominas/demo/data/translators.tab</span>
<span class="comments">;         ;NV_CONFIG=/home/user/ominas/config</span>
<span class="comments">;         ;NV_IO=/home/user/ominas/config/tab/io.tab</span>
<span class="comments">;         ;NV_SPICE=/home/user/ominas/config/spice</span>
<span class="comments">;         ;NV_ORBIT_DATA=/home/user/ominas/config/orb/</span>
<span class="comments">;         ;NV_ARRAY_DATA=/home/user/ominas/config/arr/dat/</span>
<span class="comments">;         ;NV_TRANSFORMS=/home/user/ominas/config/tab/transforms.tab:/home/user/ominas/demo/data/transforms.tab</span>
<span class="comments">;         ;NV_STATION_DATA=/home/user/ominas/config/stn/</span>
<span class="comments">;         ;NV_RING_DATA=/home/user/ominas/config/rings/</span>
<span class="comments">;         ;NV_FTP_DETECT=/home/user/ominas/config/tab/filetype_detectors.tab</span>
<span class="comments">;         ;NV_SPICE_KER=::/home/user/ominas/demo/data</span>
<span class="comments">;         ;NV_INS_DETECT=/home/user/ominas/config/tab/instrument_detectors.tab:/home/user/ominas/demo/data/instrument_detectors.tab</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;ominas_setup.sh:</span>
<span class="comments">;         ;#!/usr/bin/env bash</span>
<span class="comments">;         ;alias ominas=~/.ominas/ominas</span>
<span class="comments">;         ;alias ominasde=~/.ominas/ominasde</span>
<span class="comments">;         ;export OMINAS_DIR=/home/user/ominas</span>
<span class="comments">;         ;export OMINAS_DATA=/home/user/ominas_data</span>
<span class="comments">;         ;export OMINAS_RC=/home/user/.ominas</span>
<span class="comments">;         ;export DFLAG=true</span>
<span class="comments">;         ;source /home/user/ominas/config/ominas_env_def.sh</span>
<span class="comments">;         ;unset NV_Generic_kernels_DATA</span>
<span class="comments">;         ;unset NV_SEDR_DATA</span>
<span class="comments">;         ;unset NV_TYCHO2_DATA</span>
<span class="comments">;         ;unset NV_SAO_DATA</span>
<span class="comments">;         ;unset NV_GSC_DATA</span>
<span class="comments">;         ;unset NV_UCAC4_DATA</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;</span>
<span class="comments">;         ;IDL:</span>
<span class="comments">;         ;** Structure !VERSION, 8 tags, length=104, data length=100:</span>
<span class="comments">;         ;   ARCH            STRING    'x86_64'</span>
<span class="comments">;         ;   OS              STRING    'linux'</span>
<span class="comments">;         ;   OS_FAMILY       STRING    'unix'</span>
<span class="comments">;         ;   OS_NAME         STRING    'linux'</span>
<span class="comments">;         ;   RELEASE         STRING    '8.5.1'</span>
<span class="comments">;         ;   BUILD_DATE      STRING    'Nov 14 2015'</span>
<span class="comments">;         ;   MEMORY_BITS     INT             64</span>
<span class="comments">;         ;   FILE_OFFSET_BITS</span>
<span class="comments">;         ;                   INT             64</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;environment IDL_PATH</span>
<span class="comments">;         ;</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;environment IDL_DLM_PATH</span>
<span class="comments">;         ;</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;preferences IDL_PATH</span>
<span class="comments">;         ;&lt;IDL_DEFAULT>:+/home/user/ominas_data/idlastro/pro:+/home/user/ominas:+/home/user/ominas/util/xidl:+/home/user/ominas_data/icy/lib</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;preferences IDL_DLM_PATH</span>
<span class="comments">;         ;&lt;IDL_DEFAULT>:+/home/user/ominas_data/icy/lib</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;</span>
<span class="comments">;         ;Icy:</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;** ICY - IDL/CSPICE interface from JPL/NAIF (not loaded)</span>
<span class="comments">;         ;    Version: 1.8.0, Build Date: 05-JAN-2017, Source: ed.wright@jpl.nasa.gov</span>
<span class="comments">;         ;    Path: /home/user/ominas_data/icy/lib/icy.so</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;CSPICE_N0066</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;0 loaded kernels:</span>
<span class="comments">;         ;--------------------------------------------------------------------------------</span>
<span class="comments">;         ;</span>
<span class="comments">;         ;OMINAS repository:</span>
<span class="comments">;         ;On branch master</span>
<span class="comments">;         ;Your branch is up-to-date with 'origin/master'.</span>
<span class="comments">;         ;Last commit:</span>
<span class="comments">;         ;b373f70 Paulo Penteado Wed Jun 14 14:03:42 2017 -0700</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">;	Troubleshooting</span>
<span class="comments">;	===============</span>
<span class="comments">;</span>
<span class="comments">;	This section outlines several common sources of error which are due to</span>
<span class="comments">;	OMINAS not being configured correctly.</span>
<span class="comments">;</span>
<span class="comments">;	One of the most common configuration problems manifests as this error::</span>
<span class="comments">;</span>
<span class="comments">;	 % CSPICE_STR2ET: SPICE(NOLEAPSECONDS): [str2et_c->STR2ET->TTRANS] The variable that points to the leapseconds (DELTET/DELTA_AT)</span>
<span class="comments">;                  could not be located in the kernel pool.  It is likely that the leapseconds kernel has not been loaded via</span>
<span class="comments">;                  the routine FURNSH.</span>
<span class="comments">;</span>
<span class="comments">;	This error comes from the Icy toolkit. It specifically refers to the Leap</span>
<span class="comments">;	Second Kernel file, however, as the lsk is usually the first kernel which</span>
<span class="comments">;	is loaded, this error generally means that no kernels are being loaded.</span>
<span class="comments">;</span>
<span class="comments">;	You can check which kernels have been loaded by entering the following</span>
<span class="comments">;	IDL commands::</span>
<span class="comments">;</span>
<span class="comments">;	 cspice_ktotal, 'ALL', count</span>
<span class="comments">;	 for i=0,count-1 do begin & cspice_kdata,i,'ALL',file,type,source,handle,found & print,i,file & endfor</span>
<span class="comments">;	</span>
<span class="comments">;	A list will be populated with the currently loaded SPICE kernels, and</span>
<span class="comments">;	their load order. If no kernels are loaded, then it is likely that a bad</span>
<span class="comments">;	path was supplied to the kernel pools. Ensure that the kernel pool was</span>
<span class="comments">;	successfully entered into the environemnt by using the "env" command at</span>
<span class="comments">;	the terminal prompt. The kernel pool variable names follow a convention</span>
<span class="comments">;	like so: &lt;MIS>_SPICE_&lt;*K>, where &lt;MIS> is the abbreviated mission name,</span>
<span class="comments">;	and &lt;*K> is the type of kernel. Therefore, for Cassini, the IDL command::</span>
<span class="comments">;</span>
<span class="comments">;	 spawn,"env | grep CAS_SPICE"</span>
<span class="comments">;</span>
<span class="comments">;	will list the path to directories containing each type of Cassini kernel.</span>
<span class="comments">;	If the variables are not present, the easiest fix might be to run the OMINAS</span>
<span class="comments">;	installer again</span>
<span class="comments">;</span>
<span class="comments">;	 source configure.sh</span>
<span class="comments">;	 </span>
<span class="comments">;	From the ominas directory. Then, if the Cassini package shows as installed,</span>
<span class="comments">;	select that option at the menu (4), to uninstall it. You will be presented with</span>
<span class="comments">;	the possibility of preserving files the OMINAS installer previously downloaded,</span>
<span class="comments">;	or deleting them. After the uninstallation is complete, you will be returned to</span>
<span class="comments">;	the installer menu, and Cassini should show as not configured. Then select the Cassini</span>
<span class="comments">;	option to set it up again. </span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">;	In some cases, a demo script will run and no error will appear to occur,</span>
<span class="comments">;	but no pointing will be overlayed on the image. This error generally occurs</span>
<span class="comments">;	due to the PCK kernels not being loaded or the CK kernels not being loaded</span>
<span class="comments">;	in the correct order.</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">;	When the frame kernel (FK) is not being loaded correctly for an image,</span>
<span class="comments">;	Icy will return the following error::</span>
<span class="comments">;</span>
<span class="comments">;	 % CSPICE_PXFORM: SPICE(EMPTYSTRING): [pxform_c] String "from" has length zero.</span>
<span class="comments">;</span>
<span class="comments">;	If Icy is not installed, and a script is run, something similar to the</span>
<span class="comments">;	following error may occur::</span>
<span class="comments">;</span>
<span class="comments">;	 % Attempt to call undefined procedure: 'CSPICE_STR2ET'.</span>
<span class="comments">;</span>
<span class="comments">;	In general, the undefined procudure may have any cspice prefix. Icy is</span>
<span class="comments">;	either not configured correctly, or not installed. In IDL, check that</span>
<span class="comments">;	the Icy path has been added to the IDL path as follows::</span>
<span class="comments">;</span>
<span class="comments">;	 path = pref_get('IDL_PATH')</span>
<span class="comments">;	 print, path</span>
<span class="comments">;	 dlm_path = pref_get('IDL_DLM_PATH')</span>
<span class="comments">;	 print, dlm_path</span>
<span class="comments">;</span>
<span class="comments">;	The path variable should appear as a colon-separated list with</span>
<span class="comments">;	&lt;IDL_DEFAULT> as the first entry. Check that both Icy and OMINAS</span>
<span class="comments">;	directories are added to the IDL_PATH, and that Icy is added to the</span>
<span class="comments">;	IDL_DLM_PATH. If either Icy or OMINAS are not present, the best way to fix</span>
<span class="comments">;	it probably is to get back into the OMINAS directory and run the configure.sh</span>
<span class="comments">;	script to uninstall/install the Core, Demo or Icy packages again.</span>
<span class="comments">;	</span>
<span class="comments">;-</span>
<span class="comments">;==============================================================================</span>
<span class="comments">;</span>

<a id="install_guide:source"></a>pro install_guide
print,1
end
</code>
    </div>
  </body>
</html>